Основные изменения 3 задания в fraction, map, crusade, game (список будет расширяться)

Изменения концепции: бой между армиями теперь рассчитывается автоматически (в качестве затычки ради создания первой играбельной версии).

Добавлена возможность непосредственно играть. Число фракций пока ограниченно двумя, но значительная часть механик заточена на увеличение этого числа. Пока доступна только игра на 2 игроков с одного компьютера.

1)За ход выполняется одно действие. Пока доступны создание и передвижение армий.
2)В начале хода игрок получает некоторое колличество золота (от 50 до 100), которое зависит от колличества армий.
3)При создании указываются пропорции родов войск в армии, число юнитов определённого типа высчитвается как (число золота у фракции)*(доля в общем числе юнитов в армии). Золото обнуляется.
4)При передвижении, игрок выбирает армию и от 1 до 3 направлений движеиня. Если армии из разных фракций оказались на одном квадрате, между ними происходит автоматическое сражение, в результате которого в квадрате остаются армии только одной фракции.


Последовательность действий и переходы между ними реализованны при помощи паттерна State , который отлично подходит, если необходимо постоянно делать выбор, часто цикличный, на разных этапах выполнения программы. Таким образом State значительно упростит добавление в будущем дополнительных элементов игры, которые существенно усложнят её структуру.
Тот набор команд, который имеется сейчас вполне можно было бы раелизовать с помощью Chain of Responsibility или Command, но нужно думать о будующем, в котором использование State будет куда более.

Карта реализованна как двумерный массив локаций. Для комфортной и быстрой работы с картой используется паттерн Observer. Каждая армия хранит список указателей на армии, которые на неё подписанны. При создании армия подписывается на место создания, при передвижении меняет подписку. Если армия оказалась на новой клетке, она смотрит на другие армии, которые подписанны на эту клетку и, если это армии противника, сражается с ними.
